#:import dp kivy.metrics.dp
ZippyGame:

<ZippyGame>:
<BaseMap>:
<ZipMeter>:
    # Use layouts and dp units rather than hard coded offsets
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        padding: dp(1)
        size_hint: None, None
        size: dp(60), dp(60)

        # Background image
        Image:
            id: base
            allow_stretch: False
            source: root.baseimg
            size_hint: None, None
            size: dp(60), dp(60)

        # Container for the HP/MP bars
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: dp(56), dp(20)
            padding: [dp(4), dp(8), 0, 0]
            spacing: dp(4)

            Image:
                id: hp
                keep_ratio: True
                allow_stretch: False
                source: root.hpimg
                size_hint: None, None
                size: root.hplevel, dp(8)

            Image:
                id: mp
                keep_ratio: False
                allow_stretch: True
                source: root.mpimg
                size_hint: None, None
                size: root.mplevel, dp(7)

<Player_Sprite>:
    canvas.before:
        PushMatrix
        Rotate:
            angle: self.bearing if self.zipping == True else 0
            origin: self.center
    canvas:

    canvas.after:
        PopMatrix
